\hypertarget{classWebSrv_1_1Configurator}{}\doxysection{Web\+Srv\+::Configurator Class Reference}
\label{classWebSrv_1_1Configurator}\index{WebSrv::Configurator@{WebSrv::Configurator}}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWebSrv_1_1Configurator_a3b72b1cb42c738f3e38becdd722883d6}\label{classWebSrv_1_1Configurator_a3b72b1cb42c738f3e38becdd722883d6}} 
using {\bfseries Config\+Var\+Map} = std\+::unordered\+\_\+map$<$ std\+::string, Config\+Var\+Base\+::ptr $>$
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename T $>$ }\\static \mbox{\hyperlink{classWebSrv_1_1ConfigVar}{Config\+Var}}$<$ T $>$\+::ptr \mbox{\hyperlink{classWebSrv_1_1Configurator_a45c6b05d08738f3414bb8ad4cfbae9ec}{lookup}} (const std\+::string \&name, const T \&default\+\_\+value, std\+::string describe=\char`\"{}\char`\"{})
\begin{DoxyCompactList}\small\item\em 创建或获取\+Config\+Var,如果存在就获取\+Config\+Var \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\static \mbox{\hyperlink{classWebSrv_1_1ConfigVar}{Config\+Var}}$<$ T $>$\+::ptr \mbox{\hyperlink{classWebSrv_1_1Configurator_aa3180d7b95471119e185ba99b432a5f0}{lookup}} (const std\+::string \&name)
\begin{DoxyCompactList}\small\item\em 获取\+Config\+Var \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{classWebSrv_1_1Configurator_a028906f0af4f3e5743b20c551a437eb6}{load\+Config\+Yaml}} (const YAML\+::\+Node \&root)
\begin{DoxyCompactList}\small\item\em 通过yaml node 加载配置 \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{classWebSrv_1_1Configurator_a19d817c9155e847b8fa593903f6b2f0e}{load\+Config\+Dir}} (const std\+::string \&dirpath, bool force)
\begin{DoxyCompactList}\small\item\em 通过文件夹路径加载配置字符串文件(yaml),配置项存在才会加载 \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{classWebSrv_1_1Configurator_ae447dab974678ad684c16930836c61e5}{load\+Config\+File}} (const std\+::string \&filepath)
\begin{DoxyCompactList}\small\item\em 加载配置字符串文件 (yaml) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWebSrv_1_1Configurator_a79cc801bdcedf555ca9b99006645b179}\label{classWebSrv_1_1Configurator_a79cc801bdcedf555ca9b99006645b179}} 
static Config\+Var\+Base\+::ptr {\bfseries lookup\+Base} (const std\+::string \&name)
\item 
\mbox{\Hypertarget{classWebSrv_1_1Configurator_a805a18e6d845997d1f2e5aff58a67177}\label{classWebSrv_1_1Configurator_a805a18e6d845997d1f2e5aff58a67177}} 
static void \mbox{\hyperlink{classWebSrv_1_1Configurator_a805a18e6d845997d1f2e5aff58a67177}{visit}} (std\+::function$<$ void(Config\+Var\+Base\+::ptr)$>$ callback)
\begin{DoxyCompactList}\small\item\em 回调函数，访问使用配置信息 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classWebSrv_1_1Configurator_a19d817c9155e847b8fa593903f6b2f0e}\label{classWebSrv_1_1Configurator_a19d817c9155e847b8fa593903f6b2f0e}} 
\index{WebSrv::Configurator@{WebSrv::Configurator}!loadConfigDir@{loadConfigDir}}
\index{loadConfigDir@{loadConfigDir}!WebSrv::Configurator@{WebSrv::Configurator}}
\doxysubsubsection{\texorpdfstring{loadConfigDir()}{loadConfigDir()}}
{\footnotesize\ttfamily void Web\+Srv\+::\+Configurator\+::load\+Config\+Dir (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{dirpath,  }\item[{bool}]{force }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



通过文件夹路径加载配置字符串文件(yaml),配置项存在才会加载 


\begin{DoxyParams}{Parameters}
{\em dirpath} & 配置文件夹路径，会检索其中包含.\+yaml的文件 \\
\hline
{\em force} & 是否强制加载，（发生文件变化时可用） \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classWebSrv_1_1Configurator_ae447dab974678ad684c16930836c61e5}\label{classWebSrv_1_1Configurator_ae447dab974678ad684c16930836c61e5}} 
\index{WebSrv::Configurator@{WebSrv::Configurator}!loadConfigFile@{loadConfigFile}}
\index{loadConfigFile@{loadConfigFile}!WebSrv::Configurator@{WebSrv::Configurator}}
\doxysubsubsection{\texorpdfstring{loadConfigFile()}{loadConfigFile()}}
{\footnotesize\ttfamily void Web\+Srv\+::\+Configurator\+::load\+Config\+File (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{filepath }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



加载配置字符串文件 (yaml) 


\begin{DoxyParams}{Parameters}
{\em filepath} & 配置文件路径 \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classWebSrv_1_1Configurator_a028906f0af4f3e5743b20c551a437eb6}\label{classWebSrv_1_1Configurator_a028906f0af4f3e5743b20c551a437eb6}} 
\index{WebSrv::Configurator@{WebSrv::Configurator}!loadConfigYaml@{loadConfigYaml}}
\index{loadConfigYaml@{loadConfigYaml}!WebSrv::Configurator@{WebSrv::Configurator}}
\doxysubsubsection{\texorpdfstring{loadConfigYaml()}{loadConfigYaml()}}
{\footnotesize\ttfamily void Web\+Srv\+::\+Configurator\+::load\+Config\+Yaml (\begin{DoxyParamCaption}\item[{const YAML\+::\+Node \&}]{root }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



通过yaml node 加载配置 


\begin{DoxyParams}{Parameters}
{\em node} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$\ast$ void 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
配置项存在才会加载,而且只加载map 
\end{DoxyWarning}
\mbox{\Hypertarget{classWebSrv_1_1Configurator_aa3180d7b95471119e185ba99b432a5f0}\label{classWebSrv_1_1Configurator_aa3180d7b95471119e185ba99b432a5f0}} 
\index{WebSrv::Configurator@{WebSrv::Configurator}!lookup@{lookup}}
\index{lookup@{lookup}!WebSrv::Configurator@{WebSrv::Configurator}}
\doxysubsubsection{\texorpdfstring{lookup()}{lookup()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
static \mbox{\hyperlink{classWebSrv_1_1ConfigVar}{Config\+Var}}$<$T$>$\+::ptr Web\+Srv\+::\+Configurator\+::lookup (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



获取\+Config\+Var 


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & 配置类型 \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em name} & 配置项名 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Config\+Var$<$\+T$>$\+::ptr 不存在返回nullptr 
\end{DoxyReturn}
\mbox{\Hypertarget{classWebSrv_1_1Configurator_a45c6b05d08738f3414bb8ad4cfbae9ec}\label{classWebSrv_1_1Configurator_a45c6b05d08738f3414bb8ad4cfbae9ec}} 
\index{WebSrv::Configurator@{WebSrv::Configurator}!lookup@{lookup}}
\index{lookup@{lookup}!WebSrv::Configurator@{WebSrv::Configurator}}
\doxysubsubsection{\texorpdfstring{lookup()}{lookup()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
static \mbox{\hyperlink{classWebSrv_1_1ConfigVar}{Config\+Var}}$<$T$>$\+::ptr Web\+Srv\+::\+Configurator\+::lookup (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{const T \&}]{default\+\_\+value,  }\item[{std\+::string}]{describe = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



创建或获取\+Config\+Var,如果存在就获取\+Config\+Var 


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & 配置类型 \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em name} & 配置项名 命名只允许使用该范围内字符 a-\/z A-\/Z 1-\/9 . \\
\hline
{\em default\+\_\+value} & 默认配置值 \\
\hline
{\em describe} & 描述 \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::invalid\+\_\+argument} & 用户名使用非法字符 \\
\hline
\end{DoxyExceptions}
\begin{DoxyReturn}{Returns}
Config\+Var$<$\+T$>$\+::ptr 获取配置项 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\+Tiny\+Web\+Server/configurator.\+h\item 
src/configurator.\+cpp\end{DoxyCompactItemize}

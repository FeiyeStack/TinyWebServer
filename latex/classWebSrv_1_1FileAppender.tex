\hypertarget{classWebSrv_1_1FileAppender}{}\doxysection{Web\+Srv\+::File\+Appender Class Reference}
\label{classWebSrv_1_1FileAppender}\index{WebSrv::FileAppender@{WebSrv::FileAppender}}


文件目标器 设置延时刷新缓存，多线程下，多个ofstream写入文件会出现文件缓存丢失 如果有多个\+File\+Append将出现缓存不可靠，所以默认写入立即刷新缓存（有待优化）  




{\ttfamily \#include $<$logappender.\+h$>$}



Inheritance diagram for Web\+Srv\+::File\+Appender\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=215pt]{classWebSrv_1_1FileAppender__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Web\+Srv\+::File\+Appender\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{classWebSrv_1_1FileAppender__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWebSrv_1_1FileAppender_a8ad181842c4a86045568ef7d6cf91dd4}\label{classWebSrv_1_1FileAppender_a8ad181842c4a86045568ef7d6cf91dd4}} 
using {\bfseries ptr} = std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classWebSrv_1_1FileAppender}{File\+Appender}} $>$
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWebSrv_1_1FileAppender_a384590f38ec2f27675625cd537e548f3}\label{classWebSrv_1_1FileAppender_a384590f38ec2f27675625cd537e548f3}} 
{\bfseries File\+Appender} (const std\+::string \&filename, const std\+::string \&name=\char`\"{}\char`\"{})
\item 
\mbox{\Hypertarget{classWebSrv_1_1FileAppender_aa04a22bf7064335fa34e743171775ac3}\label{classWebSrv_1_1FileAppender_aa04a22bf7064335fa34e743171775ac3}} 
void {\bfseries log} (Log\+Event\+::ptr sp\+Log\+Event) override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWebSrv_1_1FileAppender_a7e154a537121fa50a47392e5e080f5ce}\label{classWebSrv_1_1FileAppender_a7e154a537121fa50a47392e5e080f5ce}} 
void {\bfseries open} ()
\item 
bool \mbox{\hyperlink{classWebSrv_1_1FileAppender_a3f3c7946d5587c31b7e1812644a653eb}{reopen}} ()
\begin{DoxyCompactList}\small\item\em 发生流异常时重新打开文件 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWebSrv_1_1FileAppender_a9a583858a26f150a6fd3261b4552a04b}\label{classWebSrv_1_1FileAppender_a9a583858a26f150a6fd3261b4552a04b}} 
std\+::string {\bfseries \+\_\+filename}
\item 
\mbox{\Hypertarget{classWebSrv_1_1FileAppender_a8aa551efb8e4279c8af5931abdcd1bf1}\label{classWebSrv_1_1FileAppender_a8aa551efb8e4279c8af5931abdcd1bf1}} 
std\+::ofstream {\bfseries \+\_\+ofs}
\item 
\mbox{\Hypertarget{classWebSrv_1_1FileAppender_a441af68064c6cfadcdc23eba99ce441b}\label{classWebSrv_1_1FileAppender_a441af68064c6cfadcdc23eba99ce441b}} 
time\+\_\+t {\bfseries \+\_\+flush\+Time} =0
\item 
\mbox{\Hypertarget{classWebSrv_1_1FileAppender_a9113b303c7a3093d15ca2d5c004e6f1c}\label{classWebSrv_1_1FileAppender_a9113b303c7a3093d15ca2d5c004e6f1c}} 
int {\bfseries \+\_\+delayed} =0
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
文件目标器 设置延时刷新缓存，多线程下，多个ofstream写入文件会出现文件缓存丢失 如果有多个\+File\+Append将出现缓存不可靠，所以默认写入立即刷新缓存（有待优化） 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classWebSrv_1_1FileAppender_a3f3c7946d5587c31b7e1812644a653eb}\label{classWebSrv_1_1FileAppender_a3f3c7946d5587c31b7e1812644a653eb}} 
\index{WebSrv::FileAppender@{WebSrv::FileAppender}!reopen@{reopen}}
\index{reopen@{reopen}!WebSrv::FileAppender@{WebSrv::FileAppender}}
\doxysubsubsection{\texorpdfstring{reopen()}{reopen()}}
{\footnotesize\ttfamily bool Web\+Srv\+::\+File\+Appender\+::reopen (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



发生流异常时重新打开文件 

\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\+Tiny\+Web\+Server/log/logappender.\+h\item 
src/log/logappender.\+cpp\end{DoxyCompactItemize}

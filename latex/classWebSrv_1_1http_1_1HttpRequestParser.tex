\hypertarget{classWebSrv_1_1http_1_1HttpRequestParser}{}\doxysection{Web\+Srv\+::http\+::Http\+Request\+Parser Class Reference}
\label{classWebSrv_1_1http_1_1HttpRequestParser}\index{WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}}


http响应报文解析  




{\ttfamily \#include $<$httpparser.\+h$>$}

\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWebSrv_1_1http_1_1HttpRequestParser_a94a98040be7c38550b11c456c6aac91a}\label{classWebSrv_1_1http_1_1HttpRequestParser_a94a98040be7c38550b11c456c6aac91a}} 
using {\bfseries ptr} = std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classWebSrv_1_1http_1_1HttpRequestParser}{Http\+Request\+Parser}} $>$
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWebSrv_1_1http_1_1HttpRequestParser_ad371bd2fcc5cff0780fc84dc96502a89}\label{classWebSrv_1_1http_1_1HttpRequestParser_ad371bd2fcc5cff0780fc84dc96502a89}} 
{\bfseries Http\+Request\+Parser} (uint8\+\_\+t max\+Version=0x11)
\item 
size\+\_\+t \mbox{\hyperlink{classWebSrv_1_1http_1_1HttpRequestParser_a62179d831a8455f86078213de14afad0}{execute}} (char $\ast$data, size\+\_\+t len)
\begin{DoxyCompactList}\small\item\em 解析协议(不解析请求体) \end{DoxyCompactList}\item 
Http\+Request\+::ptr \mbox{\hyperlink{classWebSrv_1_1http_1_1HttpRequestParser_afb74a7abf17d0289a07f4c9bad635dce}{get\+Data}} () const
\begin{DoxyCompactList}\small\item\em 获取http响应报文储存结构 \end{DoxyCompactList}\item 
uint64\+\_\+t \mbox{\hyperlink{classWebSrv_1_1http_1_1HttpRequestParser_a183863c08b84aaf0b43c3ccf4a77065b}{get\+Content\+Length}} ()
\begin{DoxyCompactList}\small\item\em 获取消息体长度 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classWebSrv_1_1http_1_1HttpRequestParser_af9711b27dd4a412357ba1719f8d5061e}{set\+Methods}} (std\+::shared\+\_\+ptr$<$ std\+::unordered\+\_\+set$<$ Http\+Method $>$$>$ methods)
\begin{DoxyCompactList}\small\item\em 设置支持的http方法（默认支持所有） \end{DoxyCompactList}\item 
std\+::shared\+\_\+ptr$<$ std\+::unordered\+\_\+set$<$ Http\+Method $>$ $>$ \mbox{\hyperlink{classWebSrv_1_1http_1_1HttpRequestParser_afeb272ba38021f459dcba3ccbc781db9}{get\+Methods}} ()
\begin{DoxyCompactList}\small\item\em 获取当前http支持的方法 \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classWebSrv_1_1http_1_1HttpRequestParser_a7df6cd727110e467ef382df4e52288b0}{get\+Error}} ()
\begin{DoxyCompactList}\small\item\em 错误码对应http状态码 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static uint64\+\_\+t \mbox{\hyperlink{classWebSrv_1_1http_1_1HttpRequestParser_aad09cc74e9fb88d537ba68471c4d8b45}{get\+Http\+Request\+Buffer\+Size}} ()
\begin{DoxyCompactList}\small\item\em 返回http 请求协议解析的缓存大小 \end{DoxyCompactList}\item 
static uint64\+\_\+t \mbox{\hyperlink{classWebSrv_1_1http_1_1HttpRequestParser_a4c0a04f157ab6e929ddfb2687929bea1}{get\+Http\+Request\+Max\+Body\+Size}} ()
\begin{DoxyCompactList}\small\item\em 返回http 请求协议解析的最大消息体大小 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
http响应报文解析 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classWebSrv_1_1http_1_1HttpRequestParser_a62179d831a8455f86078213de14afad0}\label{classWebSrv_1_1http_1_1HttpRequestParser_a62179d831a8455f86078213de14afad0}} 
\index{WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}!execute@{execute}}
\index{execute@{execute}!WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}}
\doxysubsubsection{\texorpdfstring{execute()}{execute()}}
{\footnotesize\ttfamily size\+\_\+t Web\+Srv\+::http\+::\+Http\+Request\+Parser\+::execute (\begin{DoxyParamCaption}\item[{char $\ast$}]{data,  }\item[{size\+\_\+t}]{len }\end{DoxyParamCaption})}



解析协议(不解析请求体) 


\begin{DoxyParams}{Parameters}
{\em data} & 协议文本内存(会添加\textquotesingle{}\textbackslash{}0\textquotesingle{}破坏原有的结构) \\
\hline
{\em len} & 协议文本内存长度 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
size\+\_\+t 成功返回解析长度，不是完整报文返回0，其他错误返回-\/1，错误码对应状态码 
\end{DoxyReturn}
\mbox{\Hypertarget{classWebSrv_1_1http_1_1HttpRequestParser_a183863c08b84aaf0b43c3ccf4a77065b}\label{classWebSrv_1_1http_1_1HttpRequestParser_a183863c08b84aaf0b43c3ccf4a77065b}} 
\index{WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}!getContentLength@{getContentLength}}
\index{getContentLength@{getContentLength}!WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}}
\doxysubsubsection{\texorpdfstring{getContentLength()}{getContentLength()}}
{\footnotesize\ttfamily uint64\+\_\+t Web\+Srv\+::http\+::\+Http\+Request\+Parser\+::get\+Content\+Length (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



获取消息体长度 

\begin{DoxyReturn}{Returns}
uint64\+\_\+t 
\end{DoxyReturn}
\mbox{\Hypertarget{classWebSrv_1_1http_1_1HttpRequestParser_afb74a7abf17d0289a07f4c9bad635dce}\label{classWebSrv_1_1http_1_1HttpRequestParser_afb74a7abf17d0289a07f4c9bad635dce}} 
\index{WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}!getData@{getData}}
\index{getData@{getData}!WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}}
\doxysubsubsection{\texorpdfstring{getData()}{getData()}}
{\footnotesize\ttfamily Http\+Request\+::ptr Web\+Srv\+::http\+::\+Http\+Request\+Parser\+::get\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



获取http响应报文储存结构 

\begin{DoxyReturn}{Returns}
Http\+Request\+::ptr 
\end{DoxyReturn}
\mbox{\Hypertarget{classWebSrv_1_1http_1_1HttpRequestParser_a7df6cd727110e467ef382df4e52288b0}\label{classWebSrv_1_1http_1_1HttpRequestParser_a7df6cd727110e467ef382df4e52288b0}} 
\index{WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}!getError@{getError}}
\index{getError@{getError}!WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}}
\doxysubsubsection{\texorpdfstring{getError()}{getError()}}
{\footnotesize\ttfamily int Web\+Srv\+::http\+::\+Http\+Request\+Parser\+::get\+Error (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



错误码对应http状态码 

\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}
\mbox{\Hypertarget{classWebSrv_1_1http_1_1HttpRequestParser_aad09cc74e9fb88d537ba68471c4d8b45}\label{classWebSrv_1_1http_1_1HttpRequestParser_aad09cc74e9fb88d537ba68471c4d8b45}} 
\index{WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}!getHttpRequestBufferSize@{getHttpRequestBufferSize}}
\index{getHttpRequestBufferSize@{getHttpRequestBufferSize}!WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}}
\doxysubsubsection{\texorpdfstring{getHttpRequestBufferSize()}{getHttpRequestBufferSize()}}
{\footnotesize\ttfamily uint64\+\_\+t Web\+Srv\+::http\+::\+Http\+Request\+Parser\+::get\+Http\+Request\+Buffer\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



返回http 请求协议解析的缓存大小 

\begin{DoxyReturn}{Returns}
uint64\+\_\+t 
\end{DoxyReturn}
\mbox{\Hypertarget{classWebSrv_1_1http_1_1HttpRequestParser_a4c0a04f157ab6e929ddfb2687929bea1}\label{classWebSrv_1_1http_1_1HttpRequestParser_a4c0a04f157ab6e929ddfb2687929bea1}} 
\index{WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}!getHttpRequestMaxBodySize@{getHttpRequestMaxBodySize}}
\index{getHttpRequestMaxBodySize@{getHttpRequestMaxBodySize}!WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}}
\doxysubsubsection{\texorpdfstring{getHttpRequestMaxBodySize()}{getHttpRequestMaxBodySize()}}
{\footnotesize\ttfamily uint64\+\_\+t Web\+Srv\+::http\+::\+Http\+Request\+Parser\+::get\+Http\+Request\+Max\+Body\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



返回http 请求协议解析的最大消息体大小 

\begin{DoxyReturn}{Returns}
uint64\+\_\+t 
\end{DoxyReturn}
\mbox{\Hypertarget{classWebSrv_1_1http_1_1HttpRequestParser_afeb272ba38021f459dcba3ccbc781db9}\label{classWebSrv_1_1http_1_1HttpRequestParser_afeb272ba38021f459dcba3ccbc781db9}} 
\index{WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}!getMethods@{getMethods}}
\index{getMethods@{getMethods}!WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}}
\doxysubsubsection{\texorpdfstring{getMethods()}{getMethods()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$std\+::unordered\+\_\+set$<$Http\+Method$>$ $>$ Web\+Srv\+::http\+::\+Http\+Request\+Parser\+::get\+Methods (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



获取当前http支持的方法 

\begin{DoxyReturn}{Returns}
std\+::shared\+\_\+ptr$<$std\+::unordered\+\_\+set$<$\+Http\+Method$>$$>$ 
\end{DoxyReturn}
\mbox{\Hypertarget{classWebSrv_1_1http_1_1HttpRequestParser_af9711b27dd4a412357ba1719f8d5061e}\label{classWebSrv_1_1http_1_1HttpRequestParser_af9711b27dd4a412357ba1719f8d5061e}} 
\index{WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}!setMethods@{setMethods}}
\index{setMethods@{setMethods}!WebSrv::http::HttpRequestParser@{WebSrv::http::HttpRequestParser}}
\doxysubsubsection{\texorpdfstring{setMethods()}{setMethods()}}
{\footnotesize\ttfamily void Web\+Srv\+::http\+::\+Http\+Request\+Parser\+::set\+Methods (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ std\+::unordered\+\_\+set$<$ Http\+Method $>$$>$}]{methods }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



设置支持的http方法（默认支持所有） 


\begin{DoxyParams}{Parameters}
{\em methods} & \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\+Tiny\+Web\+Server/http/httpparser.\+h\item 
src/http/httpparser.\+cpp\end{DoxyCompactItemize}

\hypertarget{classWebSrv_1_1SocketStream}{}\doxysection{Web\+Srv\+::Socket\+Stream Class Reference}
\label{classWebSrv_1_1SocketStream}\index{WebSrv::SocketStream@{WebSrv::SocketStream}}


socket流  




{\ttfamily \#include $<$socketstream.\+h$>$}



Inheritance diagram for Web\+Srv\+::Socket\+Stream\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classWebSrv_1_1SocketStream__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Web\+Srv\+::Socket\+Stream\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=206pt]{classWebSrv_1_1SocketStream__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWebSrv_1_1SocketStream_a4c7ee6f4947586d527b107421825ef4b}\label{classWebSrv_1_1SocketStream_a4c7ee6f4947586d527b107421825ef4b}} 
using {\bfseries ptr} = std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classWebSrv_1_1SocketStream}{Socket\+Stream}} $>$
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classWebSrv_1_1SocketStream_a7155c254c80efac627cc97ec26674766}{Socket\+Stream}} (Socket\+::ptr socket, bool owner=true)
\begin{DoxyCompactList}\small\item\em Construct a new \mbox{\hyperlink{classWebSrv_1_1Socket}{Socket}} \mbox{\hyperlink{classWebSrv_1_1Stream}{Stream}} object. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classWebSrv_1_1SocketStream_a10e18c1dcf9c2aaf45c5f1a241d313ab}{read}} (void $\ast$buffer, size\+\_\+t len) override
\begin{DoxyCompactList}\small\item\em 读数据 \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classWebSrv_1_1SocketStream_a730824a762607bb9f96816f64cb2e34d}{read}} (Byte\+Array\+::ptr ba, size\+\_\+t len) override
\begin{DoxyCompactList}\small\item\em 读数据 \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classWebSrv_1_1SocketStream_abc6cd7c48e822e5fe5f2ca8d0e3cfeb1}{write}} (const void $\ast$buffer, size\+\_\+t len) override
\begin{DoxyCompactList}\small\item\em 写数据 \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classWebSrv_1_1SocketStream_a2c8616534f330e6b06f6d8fa53464585}{write}} (Byte\+Array\+::ptr ba, size\+\_\+t len) override
\begin{DoxyCompactList}\small\item\em 写数据 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWebSrv_1_1SocketStream_a2f7e8fb82b0dd001d8d84a1f003ff6dc}\label{classWebSrv_1_1SocketStream_a2f7e8fb82b0dd001d8d84a1f003ff6dc}} 
void \mbox{\hyperlink{classWebSrv_1_1SocketStream_a2f7e8fb82b0dd001d8d84a1f003ff6dc}{close}} () override
\begin{DoxyCompactList}\small\item\em 关闭socket \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classWebSrv_1_1SocketStream_a89250f1c7273474817474ae1ec4230fb}{is\+Connected}} () const
\begin{DoxyCompactList}\small\item\em 是否连接 \end{DoxyCompactList}\item 
Address\+::ptr \mbox{\hyperlink{classWebSrv_1_1SocketStream_aa73cad61a824416dfe90e9e9fbb6ec14}{get\+Remote\+Address}} ()
\begin{DoxyCompactList}\small\item\em 远程地址 \end{DoxyCompactList}\item 
Address\+::ptr \mbox{\hyperlink{classWebSrv_1_1SocketStream_a3e690a36baa1fbc13486c99bca2b351c}{get\+Local\+Address}} ()
\begin{DoxyCompactList}\small\item\em 本地地址 \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classWebSrv_1_1SocketStream_aef190a770eab6a56c1ae8e3d7dc4a865}{get\+Remote\+Address\+String}} ()
\begin{DoxyCompactList}\small\item\em 远程地址字符串类型 \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classWebSrv_1_1SocketStream_aadb9b04885cfae5f7326e288d6d1d37d}{get\+Local\+Address\+String}} ()
\begin{DoxyCompactList}\small\item\em 本地地址字符串类型 \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classWebSrv_1_1SocketStream_ab95db671be38e966b6045e6ceadaa71f}{get\+Error}} () const
\begin{DoxyCompactList}\small\item\em 返回错误码 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classWebSrv_1_1SocketStream_a2b9af79121bc9d7d9ff1bf5d8eda7d77}\label{classWebSrv_1_1SocketStream_a2b9af79121bc9d7d9ff1bf5d8eda7d77}} 
Socket\+::ptr \mbox{\hyperlink{classWebSrv_1_1SocketStream_a2b9af79121bc9d7d9ff1bf5d8eda7d77}{get\+Socket}} () const
\begin{DoxyCompactList}\small\item\em 返回\+Socket类 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classWebSrv_1_1SocketStream_a52c8da06dc7458fff0bf585b5cd012bc}\label{classWebSrv_1_1SocketStream_a52c8da06dc7458fff0bf585b5cd012bc}} 
Socket\+::ptr {\bfseries \+\_\+socket}
\item 
\mbox{\Hypertarget{classWebSrv_1_1SocketStream_a0bffa18803c474e903c31d743d59a6cb}\label{classWebSrv_1_1SocketStream_a0bffa18803c474e903c31d743d59a6cb}} 
bool \mbox{\hyperlink{classWebSrv_1_1SocketStream_a0bffa18803c474e903c31d743d59a6cb}{\+\_\+owner}}
\begin{DoxyCompactList}\small\item\em 是否主控 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
socket流 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classWebSrv_1_1SocketStream_a7155c254c80efac627cc97ec26674766}\label{classWebSrv_1_1SocketStream_a7155c254c80efac627cc97ec26674766}} 
\index{WebSrv::SocketStream@{WebSrv::SocketStream}!SocketStream@{SocketStream}}
\index{SocketStream@{SocketStream}!WebSrv::SocketStream@{WebSrv::SocketStream}}
\doxysubsubsection{\texorpdfstring{SocketStream()}{SocketStream()}}
{\footnotesize\ttfamily Web\+Srv\+::\+Socket\+Stream\+::\+Socket\+Stream (\begin{DoxyParamCaption}\item[{Socket\+::ptr}]{socket,  }\item[{bool}]{owner = {\ttfamily true} }\end{DoxyParamCaption})}



Construct a new \mbox{\hyperlink{classWebSrv_1_1Socket}{Socket}} \mbox{\hyperlink{classWebSrv_1_1Stream}{Stream}} object. 


\begin{DoxyParams}{Parameters}
{\em sock} & \\
\hline
{\em owner} & 是否主控 \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classWebSrv_1_1SocketStream_ab95db671be38e966b6045e6ceadaa71f}\label{classWebSrv_1_1SocketStream_ab95db671be38e966b6045e6ceadaa71f}} 
\index{WebSrv::SocketStream@{WebSrv::SocketStream}!getError@{getError}}
\index{getError@{getError}!WebSrv::SocketStream@{WebSrv::SocketStream}}
\doxysubsubsection{\texorpdfstring{getError()}{getError()}}
{\footnotesize\ttfamily int Web\+Srv\+::\+Socket\+Stream\+::get\+Error (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



返回错误码 

\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}
\mbox{\Hypertarget{classWebSrv_1_1SocketStream_a3e690a36baa1fbc13486c99bca2b351c}\label{classWebSrv_1_1SocketStream_a3e690a36baa1fbc13486c99bca2b351c}} 
\index{WebSrv::SocketStream@{WebSrv::SocketStream}!getLocalAddress@{getLocalAddress}}
\index{getLocalAddress@{getLocalAddress}!WebSrv::SocketStream@{WebSrv::SocketStream}}
\doxysubsubsection{\texorpdfstring{getLocalAddress()}{getLocalAddress()}}
{\footnotesize\ttfamily Address\+::ptr Web\+Srv\+::\+Socket\+Stream\+::get\+Local\+Address (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



本地地址 

\begin{DoxyReturn}{Returns}
Address\+::ptr 
\end{DoxyReturn}
\mbox{\Hypertarget{classWebSrv_1_1SocketStream_aadb9b04885cfae5f7326e288d6d1d37d}\label{classWebSrv_1_1SocketStream_aadb9b04885cfae5f7326e288d6d1d37d}} 
\index{WebSrv::SocketStream@{WebSrv::SocketStream}!getLocalAddressString@{getLocalAddressString}}
\index{getLocalAddressString@{getLocalAddressString}!WebSrv::SocketStream@{WebSrv::SocketStream}}
\doxysubsubsection{\texorpdfstring{getLocalAddressString()}{getLocalAddressString()}}
{\footnotesize\ttfamily std\+::string Web\+Srv\+::\+Socket\+Stream\+::get\+Local\+Address\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



本地地址字符串类型 

\begin{DoxyReturn}{Returns}
std\+::string 
\end{DoxyReturn}
\mbox{\Hypertarget{classWebSrv_1_1SocketStream_aa73cad61a824416dfe90e9e9fbb6ec14}\label{classWebSrv_1_1SocketStream_aa73cad61a824416dfe90e9e9fbb6ec14}} 
\index{WebSrv::SocketStream@{WebSrv::SocketStream}!getRemoteAddress@{getRemoteAddress}}
\index{getRemoteAddress@{getRemoteAddress}!WebSrv::SocketStream@{WebSrv::SocketStream}}
\doxysubsubsection{\texorpdfstring{getRemoteAddress()}{getRemoteAddress()}}
{\footnotesize\ttfamily Address\+::ptr Web\+Srv\+::\+Socket\+Stream\+::get\+Remote\+Address (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



远程地址 

\begin{DoxyReturn}{Returns}
Address\+::ptr 
\end{DoxyReturn}
\mbox{\Hypertarget{classWebSrv_1_1SocketStream_aef190a770eab6a56c1ae8e3d7dc4a865}\label{classWebSrv_1_1SocketStream_aef190a770eab6a56c1ae8e3d7dc4a865}} 
\index{WebSrv::SocketStream@{WebSrv::SocketStream}!getRemoteAddressString@{getRemoteAddressString}}
\index{getRemoteAddressString@{getRemoteAddressString}!WebSrv::SocketStream@{WebSrv::SocketStream}}
\doxysubsubsection{\texorpdfstring{getRemoteAddressString()}{getRemoteAddressString()}}
{\footnotesize\ttfamily std\+::string Web\+Srv\+::\+Socket\+Stream\+::get\+Remote\+Address\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



远程地址字符串类型 

\begin{DoxyReturn}{Returns}
std\+::string 
\end{DoxyReturn}
\mbox{\Hypertarget{classWebSrv_1_1SocketStream_a89250f1c7273474817474ae1ec4230fb}\label{classWebSrv_1_1SocketStream_a89250f1c7273474817474ae1ec4230fb}} 
\index{WebSrv::SocketStream@{WebSrv::SocketStream}!isConnected@{isConnected}}
\index{isConnected@{isConnected}!WebSrv::SocketStream@{WebSrv::SocketStream}}
\doxysubsubsection{\texorpdfstring{isConnected()}{isConnected()}}
{\footnotesize\ttfamily bool Web\+Srv\+::\+Socket\+Stream\+::is\+Connected (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



是否连接 

\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}
\mbox{\Hypertarget{classWebSrv_1_1SocketStream_a730824a762607bb9f96816f64cb2e34d}\label{classWebSrv_1_1SocketStream_a730824a762607bb9f96816f64cb2e34d}} 
\index{WebSrv::SocketStream@{WebSrv::SocketStream}!read@{read}}
\index{read@{read}!WebSrv::SocketStream@{WebSrv::SocketStream}}
\doxysubsubsection{\texorpdfstring{read()}{read()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily int Web\+Srv\+::\+Socket\+Stream\+::read (\begin{DoxyParamCaption}\item[{Byte\+Array\+::ptr}]{ba,  }\item[{size\+\_\+t}]{len }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



读数据 


\begin{DoxyParams}{Parameters}
{\em ba} & 接收数据的\+Byte\+Array \\
\hline
{\em len} & 数据长度 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em $>$0} & 接收数据长度 \\
\hline
{\em =0} & 流关闭 \\
\hline
{\em $<$0} & 流错误 \\
\hline
\end{DoxyRetVals}


Implements \mbox{\hyperlink{classWebSrv_1_1Stream_a38b29c0c25f13f114aa6992a61a0f375}{Web\+Srv\+::\+Stream}}.

\mbox{\Hypertarget{classWebSrv_1_1SocketStream_a10e18c1dcf9c2aaf45c5f1a241d313ab}\label{classWebSrv_1_1SocketStream_a10e18c1dcf9c2aaf45c5f1a241d313ab}} 
\index{WebSrv::SocketStream@{WebSrv::SocketStream}!read@{read}}
\index{read@{read}!WebSrv::SocketStream@{WebSrv::SocketStream}}
\doxysubsubsection{\texorpdfstring{read()}{read()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily int Web\+Srv\+::\+Socket\+Stream\+::read (\begin{DoxyParamCaption}\item[{void $\ast$}]{buffer,  }\item[{size\+\_\+t}]{len }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



读数据 


\begin{DoxyParams}{Parameters}
{\em buffer} & 接收数据的内存 \\
\hline
{\em len} & 数据长度 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 成功返回0 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classWebSrv_1_1Stream_a4ab1d971ac1a79de032f91d16617e6f6}{Web\+Srv\+::\+Stream}}.

\mbox{\Hypertarget{classWebSrv_1_1SocketStream_a2c8616534f330e6b06f6d8fa53464585}\label{classWebSrv_1_1SocketStream_a2c8616534f330e6b06f6d8fa53464585}} 
\index{WebSrv::SocketStream@{WebSrv::SocketStream}!write@{write}}
\index{write@{write}!WebSrv::SocketStream@{WebSrv::SocketStream}}
\doxysubsubsection{\texorpdfstring{write()}{write()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily int Web\+Srv\+::\+Socket\+Stream\+::write (\begin{DoxyParamCaption}\item[{Byte\+Array\+::ptr}]{ba,  }\item[{size\+\_\+t}]{len }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



写数据 


\begin{DoxyParams}{Parameters}
{\em ba} & 发送数据的\+Byte\+Array \\
\hline
{\em len} & 发送数据的长度 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em $>$0} & 发生数据长度 \\
\hline
{\em =0} & 流关闭 \\
\hline
{\em $<$0} & 流错误 \\
\hline
\end{DoxyRetVals}


Implements \mbox{\hyperlink{classWebSrv_1_1Stream_a94616ebe49f5ed79acc02e701ece4e7b}{Web\+Srv\+::\+Stream}}.

\mbox{\Hypertarget{classWebSrv_1_1SocketStream_abc6cd7c48e822e5fe5f2ca8d0e3cfeb1}\label{classWebSrv_1_1SocketStream_abc6cd7c48e822e5fe5f2ca8d0e3cfeb1}} 
\index{WebSrv::SocketStream@{WebSrv::SocketStream}!write@{write}}
\index{write@{write}!WebSrv::SocketStream@{WebSrv::SocketStream}}
\doxysubsubsection{\texorpdfstring{write()}{write()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily int Web\+Srv\+::\+Socket\+Stream\+::write (\begin{DoxyParamCaption}\item[{const void $\ast$}]{buffer,  }\item[{size\+\_\+t}]{len }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



写数据 


\begin{DoxyParams}{Parameters}
{\em buffer} & 发送数据的内存 \\
\hline
{\em len} & 发送数据的长度 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em $>$0} & 发生数据长度 \\
\hline
{\em =0} & 流关闭 \\
\hline
{\em $<$0} & 流错误 \\
\hline
\end{DoxyRetVals}


Implements \mbox{\hyperlink{classWebSrv_1_1Stream_a31fd099d73307c3618daadda98ade51f}{Web\+Srv\+::\+Stream}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\+Tiny\+Web\+Server/streams/socketstream.\+h\item 
src/streams/socketstream.\+cpp\end{DoxyCompactItemize}
